<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
     
    <!-- Add debit reference and bga to financial tab --> 
    <record id="partner_account_form" model="ir.ui.view">
      <field name="name">account.partner.form.euratel</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="account.view_partner_property_form"/>
      <field name="arch" type="xml">
        <field name="debit" position="after">
          <field name="debit_ref"/>
        </field>
        <field name="bank_name" position="replace">
          <field name="bank_bic"/>
        </field>
      </field>
    </record>
    
    <!-- Add additional fields in standard partner view -->
    <record id="partner_form" model="ir.ui.view">
      <field name="name">res.partner.form.euratel</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
        <field name="parent_id" position="before">
          <field name="first_name" 
            placeholder="Vorname" 
            attrs="{'invisible':[('is_company','=', True)]}"
            />
        </field>
        <field name="title" position="after">
          <field name="gender" attrs="{'invisible':[('is_company','=', True)]}"/>
        </field>
        <page name="internal_notes" position="after">
          <page string="Weiteres">
            <group>
              <field name="bga"/>
            </group>
          </page>
        </page>
        <!-- branch_ids -->
        <page name="internal_notes" position="before">
          <page string="Filialen" attrs="{'invisible':[('is_company','=', True)]}">
            <field name="branch_ids">
              <tree string="Filiale Details">
                <field name="name"/>
                <field name="city"/>
                <field name="phone"/>
                <field name="email"/>
                <field name="fax"/>
              </tree>
            </field>
          </page>
        </page>
        <!-- first name on partner contacts kanban view -->
        <xpath expr="//h4//a//field[@name='name']" position="after">
          <t t-if="record.first_name.raw_value"><br/><field name="first_name"/></t>
        </xpath>
        <!-- City and street -->
        <xpath expr="//td[@class='oe_kanban_title1']//i" position="before">
          <div>
            <field name="street"/>,
            <field name="city"/>
          </div>
        </xpath>
        <!-- remove fax -->
        <xpath expr="//td[@class='oe_kanban_title1']//div[@t-if='record.fax.raw_value']" position="replace">
          <div/>
        </xpath>
        <!-- first name on pop-up -->
        <xpath expr="//form[@string='Contact']//sheet//field[@name='category_id']" position="before">
          <field name="first_name" placeholder="Vorname" style="width: 70%"/>
        </xpath>
      </field>
    </record>

    <!-- Add first name to simplified form view -->
    <record id="partner_simple_form" model="ir.ui.view">
      <field name="name">res.partner.simple.form.amamedis</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_simple_form"/>
      <field name="arch" type="xml">
        <field name="parent_id" position="before">
          <field name="first_name" placeholder="Vorname"/>
        </field>
      </field>
    </record>
    
  </data>
</openerp>
